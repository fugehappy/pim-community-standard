{% import 'PimUIBundle:Default:page_elements.html.twig' as elements %}

<div class="AknDefault-mainContent">
    <header class="AknTitleContainer navigation">
        <div class="AknTitleContainer-line">
            <div class="AknTitleContainer-imageContainer" data-drop-zone="main-image"></div>
            <div class="AknTitleContainer-mainContainer">
                <div>
                    <div class="AknTitleContainer-line">
                        <div class="AknTitleContainer-breadcrumbs" data-drop-zone="breadcrumbs">

                        </div>
                        <div class="AknTitleContainer-buttonsContainer">
                            <div class="user-menu" data-drop-zone="user-menu">

                            </div>
                            <div class="AknButtonList" data-drop-zone="buttons"></div>
                        </div>
                    </div>
                    <div class="AknTitleContainer-line">
                        <div class="AknTitleContainer-title" data-drop-zone="title">
                            <div>Product Push Record</div>
                        </div>
                    </div>
                </div>
                <div>
                    <div class="AknTitleContainer-line">
                        <div class="AknTitleContainer-context AknButtonList" data-drop-zone="context"></div>
                    </div>
                    <div class="AknTitleContainer-line">
                        <div class="AknTitleContainer-meta AknButtonList" data-drop-zone="meta"></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="AknTitleContainer-line">
            <div data-drop-zone="navigation" class="AknTitleContainer-navigation"></div>
        </div>
        <div class="AknTitleContainer-line">
            <div data-drop-zone="search" class="AknTitleContainer-search search-zone"></div>
        </div>
    </header>
    <div data-drop-zone="content" class="content"></div>
</div>
<script>
    require(
        [
            'pim/common/breadcrumbs',
            'pim/fetcher-registry',
            'pim/form-builder',
        ],
        function(
            Breadcrumbs,
            FetcherRegistry,
            FormBuilder
        ) {
            $(function() {
                var breadcrumbs = new Breadcrumbs({
                    config: {
                        tab: 'silk-menu-news',
                        item: 'silk-menu-news-dashboard'
                    }
                });
                breadcrumbs.configure().then(function () {
                    breadcrumbs.render();
                    $('*[data-drop-zone="breadcrumbs"]').append(breadcrumbs.$el);
                });

                FetcherRegistry.initialize().done(function () {
                    FormBuilder.build('pim-menu-user-navigation').then(function (form) {
                        $('.user-menu').append(form.el);
                        form.render();
                    }.bind(this));
                });
            });
        }
    );
</script>

